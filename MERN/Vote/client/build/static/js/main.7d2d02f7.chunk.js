(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(t,n,o){},53:function(t,n,o){"use strict";o.r(n);var e=o(1),i=o.n(e),c=o(19),s=o.n(c),j=(o(25),o(5)),p=o(2),l=o(4),r=o.n(l),b=o(0),a=function(t){var n=t.submit,o=Object(e.useState)(""),i=Object(p.a)(o,2),c=i[0],s=i[1],j=Object(e.useState)(""),l=Object(p.a)(j,2),r=l[0],a=l[1],u=Object(e.useState)(""),h=Object(p.a)(u,2),O=h[0],d=h[1],x=Object(e.useState)(""),f=Object(p.a)(x,2),v=f[0],m=f[1],g=Object(e.useState)(""),C=Object(p.a)(g,2),y=C[0],S=C[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:function(t){n(t,{question:c,option1:r,option2:O,option3:v,option4:y})},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Your question: "}),Object(b.jsx)("input",{type:"text",name:"question",onChange:function(t){return s(t.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Option 1: "}),Object(b.jsx)("input",{type:"text",name:"option1",onChange:function(t){return a(t.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Option 2: "}),Object(b.jsx)("input",{type:"text",name:"option2",onChange:function(t){return d(t.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Option 3: "}),Object(b.jsx)("input",{type:"text",onChange:function(t){return m(t.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Option 4: "}),Object(b.jsx)("input",{type:"text",onChange:function(t){return S(t.target.value)}})]}),Object(b.jsx)("input",{type:"submit",value:"Submit Poll"})]})})},u=function(){var t=Object(e.useState)([]),n=Object(p.a)(t,2),o=n[0],i=n[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/",children:"Back to Home"}),o.map((function(t,n){return Object(b.jsx)("p",{children:t},n)})),Object(b.jsx)(a,{submit:function(t,n){t.preventDefault(),r.a.post("http://localhost:8000/api/polls",n).then((function(t){Object(j.c)("/")})).catch((function(t){console.log(t);for(var n=t.response.data.errors,o=[],e=0,c=Object.keys(n);e<c.length;e++){var s=c[e];o.push(n[s].message)}i(o)}))}})]})},h=function(t){var n=t.poll;return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/",children:"Back to Home"}),Object(b.jsx)("p",{children:"Thanks for voting here are the results"}),Object(b.jsx)("h1",{children:n.question}),Object(b.jsxs)("h3",{children:[n.option1,"       ",n.option1n," votes"]}),Object(b.jsxs)("h3",{children:[n.option2,"      ",n.option2n," votes"]}),n.option3?Object(b.jsxs)("h3",{children:[n.option3,"      ",n.option3n," votes"]}):Object(b.jsx)("p",{}),n.option4?Object(b.jsxs)("h3",{children:[n.option4,"      ",n.option4n," votes"]}):Object(b.jsx)("p",{})]})},O=o(6),d=function(t){var n=t.id,o=t.poll,e=t.setHide,i=t.setPoll;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:o.question}),Object(b.jsxs)("h3",{children:[" ",o.option1,Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(t){e(!0),r.a.put("http://localhost:8000/api/polls/".concat(n),{option1n:o.option1n+1,sum:o.sum+1}).then((function(t){i(Object(O.a)(Object(O.a)({},o),{},{option1n:o.option1n+1}))}))},children:o.option1})})]}),Object(b.jsxs)("h3",{children:[o.option2,Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(t){e(!0),r.a.put("http://localhost:8000/api/polls/".concat(n),{option2n:o.option2n+1,sum:o.sum+1}).then((function(t){i(Object(O.a)(Object(O.a)({},o),{},{option2n:o.option2n+1}))}))},children:o.option2})})]}),o.option3?Object(b.jsxs)("h3",{children:[o.option3,Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(t){e(!0),r.a.put("http://localhost:8000/api/polls/".concat(n),{option3n:o.option3n+1,sum:o.sum+1}).then((function(t){i(Object(O.a)(Object(O.a)({},o),{},{option3n:o.option3n+1}))}))},children:o.option3})})]}):Object(b.jsx)("p",{}),o.option4?Object(b.jsxs)("h3",{children:[o.option4,Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(t){e(!0),r.a.put("http://localhost:8000/api/polls/".concat(n),{option4n:o.option4n+1,sum:o.sum+1}).then((function(t){i(Object(O.a)(Object(O.a)({},o),{},{option4n:o.option4n+1}))}))},children:o.option4})})]}):Object(b.jsx)("p",{})]})},x=function(t){var n=t.id,o=Object(e.useState)([]),i=Object(p.a)(o,2),c=i[0],s=i[1],j=Object(e.useState)(!1),l=Object(p.a)(j,2),a=l[0],u=l[1];return Object(e.useEffect)((function(){r.a.get("http://localhost:8000/api/polls/".concat(n)).then((function(t){return s(t.data)})).catch((function(t){return console.log(t)}))}),[n]),Object(b.jsxs)("div",{children:[a&&Object(b.jsx)(h,{poll:c}),!a&&Object(b.jsx)(d,{setHide:u,poll:c,id:n,setPoll:s})]})},f=o(8),v=o.n(f),m=function(t){var n=t.polls,o=t.setPolls;return Object(e.useEffect)((function(){r.a.get("http://localhost:8000/api/polls").then((function(t){return o(t.data)})).catch((function(t){return console.log(t)}))}),[o]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Recent Polls"}),n.map((function(t,n){return Object(b.jsx)("div",{children:Object(b.jsxs)("button",{onClick:function(n){return Object(j.c)("/polls/".concat(t._id))},children:[Object(b.jsxs)("h2",{children:[t.question," "]}),t.option4&&t.option3?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option3,":",t.option3n," ",t.option4,":",t.option4n]}):t.option3?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option3,":",t.option3n]}):t.option4?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option4,":",t.option4n]}):Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n]}),Object(b.jsx)(v.a,{fromNow:!0,children:t.createdAt})]})},n)}))]})},g=function(){var t=Object(e.useState)([{question:"",option1:"",option2:"",option3:"",option4:"",option1n:0,option2n:0,option3n:0,option4n:0}]),n=Object(p.a)(t,2),o=n[0],i=n[1],c=Object(e.useState)(o),s=Object(p.a)(c,2),l=s[0],a=s[1];Object(e.useEffect)((function(){r.a.get("http://localhost:8000/api/votes").then((function(t){return a(t.data)})).catch((function(t){return console.log(t)}))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{to:"/polls/new",children:Object(b.jsx)("button",{children:"Create your own Poll"})}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Top 3 Polls"}),l.map((function(t,n){return Object(b.jsx)("div",{children:Object(b.jsxs)("button",{onClick:function(n){return Object(j.c)("/polls/".concat(t._id))},children:[Object(b.jsxs)("h2",{children:[t.question," "]}),t.option4&&t.option3?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option3,":",t.option3n," ",t.option4,":",t.option4n," "]}):t.option3?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option3,":",t.option3n," "]}):t.option4?Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," ",t.option4,":",t.option4n," "]}):Object(b.jsxs)("p",{children:[t.option1,":",t.option1n," ",t.option2,":",t.option2n," "]}),Object(b.jsx)(v.a,{fromNow:!0,children:t.createdAt})]})},n)}))]}),Object(b.jsx)("div",{children:Object(b.jsx)(m,{polls:o,setPolls:i})})]})]})},C=function(){return Object(b.jsxs)("div",{style:{margin:"20px"},children:[Object(b.jsx)("h1",{children:"Voting Dojo"}),Object(b.jsxs)(j.b,{children:[Object(b.jsx)(g,{path:"/"}),Object(b.jsx)(u,{path:"/polls/new"}),Object(b.jsx)(x,{path:"/polls/:id"})]})]})};var y=function(){return Object(b.jsx)("div",{className:"App",style:{display:"flex",justifyContent:"space-around"},children:Object(b.jsx)(C,{})})},S=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,54)).then((function(n){var o=n.getCLS,e=n.getFID,i=n.getFCP,c=n.getLCP,s=n.getTTFB;o(t),e(t),i(t),c(t),s(t)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),S()}},[[53,1,2]]]);
//# sourceMappingURL=main.7d2d02f7.chunk.js.map